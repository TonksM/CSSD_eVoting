<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://code.jquery.com/jquery-3.3.1.js" 
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" 
            crossorigin="anonymous">   </script>
    <style>
      table, tr{
        border: 4px solid black;
        border-collapse: collapse;
        width: 100%
      }

      .checkbox{
        -webkit-appearance: checkbox;
        -webkit-transform:;
        margin: 20px;
      }

      .candidateName{
        font-weight: bold;
      }

      .candidateDetails{
        list-style-type: none;
        overflow: hidden;
        margin: 0;
        padding: 5% 5%;
        height: 100%
      }

      .candidateDetails li:first-child {
        float: left;
        text-decoration: none;
        width: 75%
      }
      
      .candidateDetails li p{
        padding: 2px 0;
        margin: 0;
      }

      .candidateDetails li p.txtBold{
        font-weight: bold;
      }

      .candidateDetails li p.txtBold .txtUpper{
        text-transform: uppercase;
      }

      .candidateDetails li p.txtRegular{
        font-weight: normal;
      }

      .candidateDetails li:last-child {
        float: right;
        text-decoration: none;
        text-align: center;
        width: 25%;
      }

    </style>
  </head>
  <body>
    <form method = "get" action="./users/logout">
      <button>Logout</button>
    </form>
    <div class='ballot'>
      <div class='ballotHeader'>

      </div>
      <div class='ballotContents'>
        <table class="ballotTable">
          <tbody>
            <%candidates.forEach(function(candidate){%>
              <tr>
                <td class="candidateLabel">
                  <label for="<%=candidate._id%>">
                    <ul class="candidateDetails">
                      <li>
                        <input id="<%=candidate._id%>_name" type="hidden" name="votingFor" val="<%=candidate._firstName%> <%=candidate._surname%>, <%=candidate._party._name%>"></input>
                        <p class="txtBold"><span class="txtUpper"><%=candidate._surname%></span>, <%=candidate._firstName%></p>
                        <p class="txtRegular"><%=candidate._address._addressLine1%>, 
                                                <%=candidate._address._addressLine2%>,
                                                <%=candidate._address._postcode%></p>
                        <p class="txtBold"><%=candidate._party._name%></p>
                      </li>
                      <li>
                        <img src="/images/parties/<%=candidate._party._name%>.png" alt="&nbsp;">
                      </li>
                    </ul>
                  </label>
                </td>
                <td class="container">
                  <input id="<%=candidate._id%>" class="checkbox" type="radio" name="candidate" value="<%=candidate._id%>">
                  <span class="checkmark">
                </td>
              </tr>
            <%});%>
          </tbody>
        </table>
        <form method="post" action="ballot/cast_vote">
          <input type="hidden" id="votingFor" name="votingFor" value=""></input>
          <input type="hidden" id="voterId" name="voterId" value="<%=voter%>"></input>
          <button id="btn_vote" value="Submit">Submit</button>
        </form>
      </div>
    </div>
    
    
    <script src="/javascripts/ballot.js"></script>
  </body>
</html>
