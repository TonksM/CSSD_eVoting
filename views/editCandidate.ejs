<!DOCTYPE html>
<html>
  <head>
    <title>Edit Candidate</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1>Candidates</h1>
    <%candidates.forEach(function(candidate){console.log(candidate);%>
    <h2><%=candidate._firstName + " " + candidate._surname%></h2>
    <div class='candidateDetails'>
      <form method = "post" action="admin/candidate/edit">
        <label for="firstName">First Name</label>
        <input type="text" name="firstName" value="<%=candidate._firstName%>"/>
        <label for="surname">Surname</label>
        <input type="text" name="surname" value="<%=candidate._surname%>"/>
        <label for="party">Affliated Party</label>
        <select>
        <%parties.forEach(function(party){
            console.log(party);
            if(candidate._party.equals(party._id))
            {%>
              <option selected value="<%=party._id%>"><%=party._name%></option>
          <%}else{%>
              <option value="<%=party._id%>"><%=party._name%></option>
          <%}
          });%>
        </select>
        <label for="candidates">Address</label>
        <select>
        <%addresses.forEach(function(address){
            if(candidate._address.equals(address._id))
            {%>
              <option selected value="<%=address._id%>"><%=address._addressLine1 + " " + address._postcode%></option>
          <%}else{%>
              <option value="<%=address._id%>"><%=address._addressLine1 + " " + address._postcode%></option>
          <%}
          });%>
        </select>
        <button>Update</button>
      </div>
    <%});%>
    </form>
  </body>
</html>
